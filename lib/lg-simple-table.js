!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports["lgui-public-components"]=r():t.Lgui=r()}("undefined"!=typeof self?self:this,function(){return function(t){var r={};function n(e){if(r[e])return r[e].exports;var i=r[e]={i:e,l:!1,exports:{}};return t[e].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="/lib/",n(n.s=169)}({123:function(t,r){var n={EqualityComparer:function(t,r){return t===r||t.valueOf()===r.valueOf()},SortComparer:function(t,r){return t===r?0:null===t?-1:null===r?1:"string"==typeof t?t.toString().localeCompare(r.toString()):t.valueOf()-r.valueOf()},Predicate:function(){return!0},Selector:function(t){return t}};!function(){"use strict";var t=t,r=r||t;Array.prototype.select=Array.prototype.map||function(t,n){n=n||r;for(var e=[],i=this.length,o=0;o<i;o++)e.push(Selector.call(n,this[o],o,this));return e}}(),function(){"use strict";Array.prototype.selectMany=function(t,r){return r=r||function(t,r){return r},this.aggregate(function(n,e){return n.concat(t(e).select(function(t){return r(e,t)}))},[])}}(),function(){"use strict";Array.prototype.take=function(t){return this.slice(0,t)}}(),function(){"use strict";Array.prototype.skip=Array.prototype.slice}(),function(){"use strict";Array.prototype.first=function(t,r){var n=this.length;if(!t)return n?this[0]:null==r?null:r;for(var e=0;e<n;e++)if(t(this[e],e,this))return this[e];return null==r?null:r}}(),function(){"use strict";Array.prototype.last=function(t,r){var n=this.length;if(!t)return n?this[n-1]:null==r?null:r;for(;n-- >0;)if(t(this[n],n,this))return this[n];return null==r?null:r}}(),function(){"use strict";Array.prototype.union=function(t){return this.concat(t).distinct()}}(),function(){"use strict";Array.prototype.intersect=function(t,r){return r=r||n.EqualityComparer,this.distinct(r).where(function(n){return t.contains(n,r)})}}(),function(){"use strict";Array.prototype.except=function(t,r){t instanceof Array||(t=[t]),r=r||n.EqualityComparer;for(var e=this.length,i=[],o=0;o<e;o++){for(var u=t.length,a=!1;u-- >0;)if(!0===r(this[o],t[u])){a=!0;break}a||i.push(this[o])}return i}}(),function(){"use strict";Array.prototype.distinct=function(t){for(var r=[],n=this.length,e=0;e<n;e++)r.contains(this[e],t)||r.push(this[e]);return r}}(),function(){"use strict";Array.prototype.zip=function(t,r){return this.take(Math.min(this.length,t.length)).select(function(n,e){return r(n,t[e])})}}(),function(){"use strict";Array.prototype.indexOf=Array.prototype.indexOf||function(t,r){for(var n=this.length,e=Math.max(Math.min(r,n),0)||0;e<n;e++)if(this[e]===t)return e;return-1}}(),function(){"use strict";Array.prototype.lastIndexOf=Array.prototype.lastIndexOf||function(t,r){for(var n=Math.max(Math.min(r||this.length,this.length),0);n-- >0;)if(this[n]===t)return n;return-1}}(),function(){"use strict";Array.prototype.remove=function(t){var r=this.indexOf(t);-1!=r&&this.splice(r,1)}}(),function(){"use strict";Array.prototype.removeAll=function(t){for(var r,n=0;null!=(r=this.first(t));)n++,this.remove(r);return n}}(),function(){"use strict";Array.prototype.orderBy=function(t,r){r=r||n.SortComparer;var e=this.slice(0),i=function(n,e){return r(t(n),t(e))};return e.thenBy=function(t,r){return r=r||n.SortComparer,e.orderBy(n.Selector,function(n,e){var o=i(n,e);return 0===o?r(t(n),t(e)):o})},e.thenByDescending=function(t,r){return r=r||n.SortComparer,e.orderBy(n.Selector,function(n,e){var o=i(n,e);return 0===o?-r(t(n),t(e)):o})},e.sort(i)}}(),function(){"use strict";Array.prototype.orderByDescending=function(t,r){return r=r||n.SortComparer,this.orderBy(n.Selector,function(t,n){return-r(t,n)})}}(),function(){"use strict";Array.prototype.innerJoin=function(t,r,e,i,o){o=o||n.EqualityComparer;var u=[];return this.forEach(function(n){t.where(function(t){return o(r(n),e(t))}).forEach(function(t){u.push(i(n,t))})}),u}}(),function(){"use strict";Array.prototype.groupJoin=function(t,r,e,i,o){return o=o||n.EqualityComparer,this.select(function(n){var i=r(n);return{outer:n,inner:t.where(function(t){return o(i,e(t))}),key:i}}).select(function(t){return t.inner.key=t.key,i(t.outer,t.inner)})}}(),function(){"use strict";Array.prototype.groupBy=function(t,r){var e=[],i=this.length;r=r||n.EqualityComparer,t=t||n.Selector;for(var o=0;o<i;o++){var u=t(this[o]),a=e.first(function(t){return r(t.key,u)});a||((a=[]).key=u,e.push(a)),a.push(this[o])}return e}}(),function(){"use strict";Array.prototype.toDictionary=function(t,r){for(var n={},e=this.length;e-- >0;){var i=t(this[e]);null!=i&&""!==i&&(n[i]=r(this[e]))}return n}}(),function(){"use strict";Array.prototype.aggregate=Array.prototype.reduce||function(t,r){var n=this.slice(0),e=this.length;null==r&&(r=n.shift());for(var i=0;i<e;i++)r=t(r,n[i],i,this);return r}}(),function(){"use strict";Array.prototype.min=function(t){t=t||n.Selector;for(var r=this.length,e=t(this[0]);r-- >0;)t(this[r])<e&&(e=t(this[r]));return e}}(),function(){"use strict";Array.prototype.max=function(t){t=t||n.Selector;for(var r=this.length,e=t(this[0]);r-- >0;)t(this[r])>e&&(e=t(this[r]));return e}}(),function(){"use strict";Array.prototype.sum=function(t){t=t||n.Selector;for(var r=this.length,e=0;r-- >0;)e+=t(this[r]);return e}}(),function(){"use strict";var t=t,r=r||t;Array.prototype.where=Array.prototype.filter||function(t,n){n=n||r;for(var e=[],i=this.length,o=0;o<i;o++)!0===Predicate.call(n,this[o],o,this)&&e.push(this[o]);return e}}(),function(){"use strict";var t=t,r=r||t;Array.prototype.any=function(t,e){return e=e||r,t=t||n.Predicate,(this.some||function(t,r){var n=this.length;if(!t)return n>0;for(;n-- >0;)if(!0===t.call(r,this[n],n,this))return!0;return!1}).apply(this,[t,e])}}(),function(){"use strict";var t=t,r=r||t;Array.prototype.all=function(t,e){return e=e||r,t=t||n.Predicate,(this.every||function(t,r){return this.length==this.where(t,r).length}).apply(this,[t,e])}}(),function(){"use strict";Array.prototype.takeWhile=function(t){t=t||n.Predicate;for(var r=this.length,e=[],i=0;i<r&&!0===t(this[i],i);i++)e.push(this[i]);return e}}(),function(){"use strict";Array.prototype.skipWhile=function(t){t=t||n.Predicate;var r=this.length,e=0;for(e=0;e<r&&!1!==t(this[e],e);e++);return this.skip(e)}}(),function(){"use strict";Array.prototype.contains=function(t,r){r=r||n.EqualityComparer;for(var e=this.length;e-- >0;)if(!0===r(this[e],t))return!0;return!1}}(),function(){"use strict";var t=t,r=r||t;Array.prototype.forEach=Array.prototype.forEach||function(t,n){n=n||r;for(var e=this.length,i=0;i<e;i++)t.call(n,this[i],i,this)}}(),function(){"use strict";Array.prototype.defaultIfEmpty=function(t){return 0===this.length?[null===t?null:t]:this}}(),function(){"use strict";Array.range=function(t,r){for(var n=[];r-- >0;)n.push(t++);return n}}()},130:function(t,r,n){"use strict";r.__esModule=!0;var e=i(n(97));i(n(123));function i(t){return t&&t.__esModule?t:{default:t}}r.default={name:"lg-simple-table",props:{init_data:{type:Array,default:function(){return new Array}},init_column:{type:Array,default:function(){return new Array}},init_pagesize:{type:Number,default:20}},data:function(){var t=this.init_column;return{pagesize:this.init_pagesize,columnData:t,page_count:1}},mounted:function(){if(this.init_data!=[]&&0==this.init_column.length){var t=this.init_data[0];for(var r in this.columnData=new Array,t){var n={prop:r,label:r};this.columnData.push(n)}}else this.columnData=this.init_column},computed:{data_count:function(){return this.init_data.length},shownData:function(){return this.init_data.skip(this.pagesize*(this.page_count-1)).take(this.pagesize)},hasAddon:function(){return this.columnData.where(function(t){return"addon"==t.prop}).length>0},addonWidth:function(){if(this.hasAddon){var t=this.columnData.where(function(t){return"addon"==t.prop}).first();if(t.width)return t.width}return 50},shown_col:function(){var t=JSON.parse((0,e.default)(this.columnData));if(this.hasAddon){var r=t.where(function(t){return"addon"==t.prop}).first();t.remove(r)}return t}},watch:{init_column:function(t,r){console.log("change detected"),this.columnData=t}},methods:{changePagesize:function(t){this.pagesize=t},changeData:function(t){this.TableData=t},handleSelect:function(t){console.log("选择新列"),this.$emit("select_row",t)}}}},169:function(t,r,n){"use strict";r.__esModule=!0;var e,i=n(170),o=(e=i)&&e.__esModule?e:{default:e};o.default.install=function(t){t.component(o.default.name,o.default)},r.default=o.default},17:function(t,r){t.exports=function(t,r,n,e,i,o){var u,a=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(u=t,a=t.default);var c,f="function"==typeof a?a.options:a;if(r&&(f.render=r.render,f.staticRenderFns=r.staticRenderFns,f._compiled=!0),n&&(f.functional=!0),i&&(f._scopeId=i),o?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),e&&e.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(o)},f._ssrRegister=c):e&&(c=e),c){var l=f.functional,p=l?f.render:f.beforeCreate;l?(f._injectStyles=c,f.render=function(t,r){return c.call(r),p(t,r)}):f.beforeCreate=p?[].concat(p,c):[c]}return{esModule:u,exports:a,options:f}}},170:function(t,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=n(130),i=n.n(e);for(var o in e)"default"!==o&&function(t){n.d(r,t,function(){return e[t]})}(o);var u=n(172);var a=function(t){n(171)},s=n(17)(i.a,u.a,!1,a,"data-v-fe1f4b3a",null);r.default=s.exports},171:function(t,r){},172:function(t,r,n){"use strict";var e={render:function(){var t=this,r=t.$createElement,n=t._self._c||r;return n("div",{staticClass:"lg-simple-table"},[n("el-table",{attrs:{data:t.shownData,"highlight-current-row":""},on:{"current-change":t.handleSelect}},[t._l(t.shown_col,function(t){return n("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.label}})}),t._v(" "),t.hasAddon?n("el-table-column",{attrs:{fixed:"right",width:t.addonWidth,label:"更多"},scopedSlots:t._u([{key:"default",fn:function(r){return[t._t("addon",null,{data:r.row})]}}])}):t._e()],2),t._v(" "),n("div",[n("el-pagination",{attrs:{"page-size":this.pagesize,"pager-count":5,"current-page":t.page_count,layout:"prev, pager, next",total:this.data_count},on:{"update:currentPage":function(r){t.page_count=r}}})],1)],1)},staticRenderFns:[]};r.a=e},2:function(t,r){var n=t.exports={version:"2.5.7"};"number"==typeof __e&&(__e=n)},97:function(t,r,n){t.exports={default:n(98),__esModule:!0}},98:function(t,r,n){var e=n(2),i=e.JSON||(e.JSON={stringify:JSON.stringify});t.exports=function(t){return i.stringify.apply(i,arguments)}}})});
//# sourceMappingURL=lg-simple-table.js.map